<div>
<p>
In my <a href="https://jarombek.com/blog/jun-29-2021-jss">previous article on JSS</a>, I discussed the improvements
it makes over traditional <a href="https://jarombek.com/blog?query=CSS&page=1">CSS</a> and CSS preprocessors such as
<a href="https://jarombek.com/blog?query=Sass&page=1">Sass</a>.  <a href="https://jarombek.com/blog?query=JSS&page=1">JSS</a>
utilizes the highly expressive <a href="https://jarombek.com/blog?query=JavaScript&page=1">JavaScript</a> syntax,
enables style reusability, dynamic styling, and provides naming conflict resolution.  While JSS can work with any
front-end framework or library, it really shines when used with React. In this article, I begin by discussing the
basics of using JSS in a React application. Then, I show sample code from my <a href="https://saintsxctf.com">SaintsXCTF</a>
application, which is running in production and <a href="https://github.com/AJarombek/saints-xctf-web">
utilizes JSS for its stylesheets</a>.
</p>
<SectionTitle title="React JSS Basics">React JSS Basics</SectionTitle>
<p>
To use JSS in React applications, the <a href=https://www.npmjs.com/package/react-jss/v/10.6.0>react-jss</a> npm module
is used instead of the <a href="https://www.npmjs.com/package/jss">jss</a> and
<a href="https://www.npmjs.com/package/jss-preset-default">jss-preset-default</a> modules used in my prior article.
Behind the scenes, React JSS uses both these modules, but exposes a React hook API for application code to use<sup>1</sup>.
</p>
<p>
The main exported method of the React JSS library is <code className="jarombek-inline-code">createUseStyles()</code>,
which takes in a JavaScript object representing JSS styles and returns a React hook which is used in components. This
React hook, commonly named <code className="jarombek-inline-code">useStyles()</code>, returns a
<code className="jarombek-inline-code">classes</code> object which can be attached to JSX/HTML elements as their class
attribute.
</p>
<p>
For example, my SaintsXCTF application has a basic
<a href="https://github.com/AJarombek/saints-xctf-web/blob/master/src/components/shared/CheckBox/CheckBox.tsx">CheckBox</a>
component represented by the following function:
</p>
<CodeSnippet language="TypeScript">
import React from 'react';
import { createUseStyles } from 'react-jss';
import styles from './styles';

const useStyles = createUseStyles(styles);

const CheckBox: React.FunctionComponent&lt;Props> = ({ id, checked, onChange, className }) => {
  const classes = useStyles();

  return (
    &lt;div className={classes.checkBox} onClick={onChange}>
      &lt;input type="checkbox" id={id} className={classes.input} checked={checked} />
      &lt;span>{checked && &lt;p>&#x4e;&lt;/p>}&lt;/span>
    &lt;/div>
  );
};

export default CheckBox;
</CodeSnippet>
<p>
I simplified this code a bit to focus on the parts that utilize JSS.  The code starts by importing the
<code className="jarombek-inline-code">createUseStyles()</code> function from the React JSS library with the line
<code className="jarombek-inline-code">import { createUseStyles } from 'react-jss'</code>.
<code className="jarombek-inline-code">createUseStyles()</code> is used outside of the component function, taking a JSS
styles object as an argument and returning a React hook definition, in my case named
<code className="jarombek-inline-code">useStyles()</code>. The first line of the component function,
<code className="jarombek-inline-code">const classes = useStyles()</code>, invokes the React hook to retrieve all the
stylesheet classes. The JSS classes are properties on the <code className="jarombek-inline-code">classes</code> object.
In the components return statement, JSS classes are passed to JSX elements via the
<code className="jarombek-inline-code">className</code> prop. For example, the
<code className="jarombek-inline-code">&lt;div&gt;</code> elements
<code className="jarombek-inline-code">className</code> prop is passed the
<code className="jarombek-inline-code">checkBox</code> JSS class.
</p>
<p>
In this code sample, the <code className="jarombek-inline-code">styles</code> object passed as an argument to
<code className="jarombek-inline-code">createUseStyles()</code> is imported from a separate file. I generally follow
this practice to logically separate component code from stylesheet code. The
<code className="jarombek-inline-code">styles</code> object, located in the
<a href="https://github.com/AJarombek/saints-xctf-web/blob/master/src/components/shared/CheckBox/styles.ts">styles.ts</a>
file, has the following code:
</p>
<CodeSnippet language="TypeScript">
import Colors from '../../../styles/colors';
import { FontMixins } from '../../../styles/mixins';

export default {
  checkBox: {
    display: 'flex',
    cursor: 'pointer'
  },
  input: {
    display: 'none',

    '& + span': {
      ...FontMixins.elegantIcons(),
      display: 'inline-block',
      border: '2px solid #999',
      borderRadius: 2,
      width: 16,
      height: 16,
      position: 'relative',

      '& > p': {
        color: '#FFF',
        position: 'absolute',
        margin: 0,
        top: -1,
        left: -3
      }
    },

    '&:checked + span': {
      backgroundColor: Colors.sxctfRed,
      border: `2px solid ${Colors.sxctfRed}`
    }
  }
};
</CodeSnippet>
<p>
At a basic level, this object has two properties representing two classes:
<code className="jarombek-inline-code">checkBox</code> and <code className="jarombek-inline-code">input</code>.  These
properties are objects themselves, containing CSS styles as properties.  I’m also importing additional code for
reusability purposes, which I will discuss next.
</p>
<SectionTitle title="React JSS Production Code Examples">React JSS Production Code Examples</SectionTitle>
<p>
In this section, I discuss different approaches for creating reusable and dynamic stylesheet code with JSS.  All of the
code examples shown come from my <a href="https://saintsxctf.com">SaintsXCTF</a> application, with the front-end source
code maintained in my <a href="https://github.com/AJarombek/saints-xctf-web">saints-xctf-web</a> repository.
</p>
<SubTitle title="Variables for Colors">Variables for Colors</SubTitle>
<p>
In web applications, the same color schemes are often used throughout the UI components.  In traditional CSS (before
variables were added to the specification), these colors were copy pasted throughout the stylesheets whenever they were
needed.  Maintaining colors in a singular location and referencing them in stylesheets is a solid approach for writing
clean code and easing future refactoring.
</p>
<p>
In my application, I maintain a <a href="https://github.com/AJarombek/saints-xctf-web/blob/master/src/styles/colors.ts">colors.ts</a>
file which contains all the commonly reused colors.
</p>
<CodeSnippet language="TypeScript">
const Colors = {
  sxctfRed: '#990000',
  spotPaletteBrown: '#a96a5b',
  spotPaletteCream: '#ffe6d9',
  spotPaletteBlue: '#58b7d2',
  statusSuccess: '#28a745',
  statusWarning: '#ffc107',
  statusFailure: '#dc3545',
  lightestBackground: '#fdfdfd',
  lightBackground: '#f5f5f5'
};

export const FeelColors = [
  '#EA9999',
  '#FFAD99',
  '#EAC199',
  '#FFD699',
  '#FFFFAD',
  '#E3E3E3',
  '#C7F599',
  '#99D699',
  '#99C199',
  '#A3A3FF'
];

export default Colors;
</CodeSnippet>
<p>
By default this file exports the <code className="jarombek-inline-code">Colors</code> object, which contains properties
with hex color codes.  There is also a <code className="jarombek-inline-code">FeelColors</code> list, which is used for
application specific logic dealing with how user’s felt on their exercises.
<code className="jarombek-inline-code">FeelColors</code> will look familiar if you read my
<a href="https://jarombek.com/blog/jun-29-2021-jss">prior article on JSS</a>.
</p>
<p>
In component stylesheets, the <code className="jarombek-inline-code">Colors</code> object is simply
<a href="https://github.com/AJarombek/saints-xctf-web/blob/master/src/components/shared/NotFound/styles.ts">
imported and its properties are referenced</a>.  A simplified example is shown below, where a
<code className="jarombek-inline-code">container</code> class with a
<code className="jarombek-inline-code">backgroundColor</code> style.
</p>
<CodeSnippet language="TypeScript">
import Colors from '../../../styles/colors';

export default {
  container: {
    backgroundColor: Colors.lightBackground
  }
};
</CodeSnippet>
<SubTitle title="Mixins for Reusable Styles">Mixins for Reusable Styles</SubTitle>
<p>
In some cases, there are groups of styles that are reused in multiple stylesheets.  In Sass these groups of styles are
called mixins, since they can be “mixed in” with other styles.  In my JSS code, I followed the same naming convention.
My application has a <a href="https://github.com/AJarombek/saints-xctf-web/blob/master/src/styles/mixins.ts">mixins.ts</a>
file with all the style mixins.  Mixins are simply JavaScript functions that return an object with CSS styles as properties.
</p>
<p>
As an example, one of the mixins <code className="jarombek-inline-code">blueLink()</code> is reused for many of the
text links on the website.
</p>
<CodeSnippet language="TypeScript">
class Mixins {
  static blueLink = (): object => ({
    ...FontMixins.robotoBold(),
    fontSize: 14,
    textDecoration: 'none',
    color: Colors.spotPaletteBlue,
    cursor: 'pointer',

    '&:hover': {
      textDecoration: 'underline'
    }
  });
}
</CodeSnippet>
<p>
These mixins are “mixed in” to JSS classes by importing the JavaScript class containing mixin functions and using the
spread notation on the mixin function.  The following code mixes in
<code className="jarombek-inline-code">blueLink()</code> with the <code className="jarombek-inline-code">link</code>
JSS class.
</p>
<CodeSnippet language="TypeScript">
import Mixins from './styles/mixins';

export default {
  link: {
    ...Mixins.blueLink(),
    marginTop: 15
  }
}
</CodeSnippet>
<SubTitle title="Modules for Reusable Classes">Modules for Reusable Classes</SubTitle>
<p>
Sometimes multiple components contain matching groups of classes.  In terms of reusability, this pattern goes above the
scope of mixins.  In my code I call this pattern “modules”.  While mixins return an object with styles in them, modules
return an object with JSS classes.  All the modules in my application exist in a
<a href="https://github.com/AJarombek/saints-xctf-web/blob/master/src/styles/modules.ts">modules.ts</a> file
</p>
<SubTitle title="Dynamic Styling with React State and Props">Dynamic Styling with React State and Props</SubTitle>
<SectionTitle title="Conclusions">Conclusions</SectionTitle>
</div>
