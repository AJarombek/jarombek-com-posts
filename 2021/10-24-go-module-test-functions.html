<div>
<p>
Recently I’ve been writing <a href="https://jarombek.com/blog/oct-10-2021-kubernetes-tests-go">tests for my Kubernetes
infrastructure in Go</a>.  These tests are split across <a href="https://github.com/AJarombek/
jarombek-com-infrastructure/tree/master/test-k8s">multiple</a> <a href="https://github.com/AJarombek/
saints-xctf-infrastructure/tree/master/test-k8s">different</a> <a href="https://github.com/AJarombek/
global-aws-infrastructure/tree/master/test-k8s">repositories</a>.  However, there is a lot of overlap in testing logic
between the test suites in each repository.  Following good programming practices and in attempts to keep my code DRY,
I split out the common code between the repositories into reusable functions.  These functions exist in their own Go
module, which is imported into the test suites as a dependency.
</p>
<p>
Go modules are part of Go’s dependency management system<sup>1</sup>.  They consist of a collection of packages, which
are defied in a <strong>go.mod</strong> file.  Go modules can be used as dependencies for other modules, as is the
case with my reusable test function module and my Kubernetes test modules.
</p>
<p>
In this article, I first show how to configure a Go module, using my reusable test function module as an example.
Then, I show how this module is used in my Kubernetes test modules.
</p>
<SectionTitle title="Configuring the Go Module">Configuring the Go Module</SectionTitle>
<p>
Go modules are defined by their <strong>go.mod</strong> file, similar to how a npm package is defined by its
<strong>package.json</strong> file.  <strong>go.mod</strong> exists in the root directory of the Go module.
<strong>go.mod</strong> files have their own syntax separate from the Go programming language or any other programming
or configuration language<sup>2</sup>.  The <a href="https://github.com/AJarombek/cloud-modules/blob/master/
kubernetes-test-functions/go.mod">go.mod</a> file for my reusable test function module has the following content:
</p>
<CodeSnippet>
module github.com/ajarombek/cloud-modules/kubernetes-test-functions

go 1.15

require (
	k8s.io/api v0.17.0
	k8s.io/apimachinery v0.17.3-beta.0
	k8s.io/client-go v0.17.0
)
</CodeSnippet>
<p>
Go module files consist of multiple directives<sup>3</sup>.  In the code above, <code className="jarombek-inline-code">
module</code>, <code className="jarombek-inline-code">go</code>, and <code className="jarombek-inline-code">require</code>
are directives.
</p>
<SectionTitle title="Using the Go Module">Using the Go Module</SectionTitle>
<SectionTitle title="Conclusions">Conclusions</SectionTitle>
</div>
